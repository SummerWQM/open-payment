<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.dao.TransactionDao">
    <insert id="insert" parameterType="com.entity.PaymentTransaction" useGeneratedKeys="true" keyProperty="id"
            keyColumn="id">
    insert into `payment_transaction`

  (`unid`,`from_system`,`transaction_name`,`amount`,`status`,`callback_url`,`notify_count`)

  values (#{unid},#{fromSystem},#{TransactionName},#{amount},#{status},#{callbackUrl},#{notifyCount})

</insert>
    <select id="getTransaction" resultType="com.entity.PaymentTransaction">
        select * from `payment_transaction` where unid = #{unid}
    </select>

    <update id="modifyTransaction">
        update `payment_transaction`
        <set>
            <if test="status!=null">status=#{status}</if>
            <if test="notifyCount!=null">notify_count=#{notifyCount}</if>
        </set>
        where unid=#{unid}
    </update>
</mapper>
